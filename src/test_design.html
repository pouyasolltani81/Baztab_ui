<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - Categories</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-6 font-sans">

  <div class="container mx-auto">
    <!-- Category Dropdown -->
    <div class="mb-4">
      <div class="flex items-center space-x-3">
        <label for="category" class="text-xl font-semibold text-teal-600">Category:</label>
        <select id="category" class="py-2 px-4 border border-teal-400 rounded-lg focus:ring-2 focus:ring-teal-500 text-lg">
          <option value="category1">Category 1</option>
          <option value="category2">Category 2</option>
          <option value="category3">Category 3</option>
        </select>
      </div>
    </div>

    <!-- Table for Categories and Subcategories -->
    <div class="overflow-x-auto bg-white shadow-md rounded-lg">
      <table class="min-w-full table-auto">
        <thead class="bg-teal-600 text-white">
          <tr>
            <th class="py-2 px-4 text-left text-lg font-medium">Category</th>
            <th class="py-2 px-4 text-left text-lg font-medium">Subcategories</th>
          </tr>
        </thead>
        <tbody id="categoryTableBody">
          <!-- Dynamic rows will be injected here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    const categoriesData = {
      category1: [
        {
          name: "Category 1A",
          subcategories: [
            { name: "Sub 1A1", subcategories: [] },
            { name: "Sub 1A2", subcategories: [
              { name: "Sub 1A2a", subcategories: [] },
              { name: "Sub 1A2b", subcategories: [] }
            ]}
          ]
        },
        {
          name: "Category 1B",
          subcategories: [
            { name: "Sub 1B1", subcategories: [] },
            { name: "Sub 1B2", subcategories: [] }
          ]
        },
      ],
      category2: [
        {
          name: "Category 2A",
          subcategories: [
            { name: "Sub 2A1", subcategories: [] },
            { name: "Sub 2A2", subcategories: [] }
          ]
        },
        {
          name: "Category 2B",
          subcategories: [
            { name: "Sub 2B1", subcategories: [] },
            { name: "Sub 2B2", subcategories: [] }
          ]
        }
      ],
      category3: [
        {
          name: "Category 3A",
          subcategories: [
            { name: "Sub 3A1", subcategories: [] },
            { name: "Sub 3A2", subcategories: [] }
          ]
        },
        {
          name: "Category 3B",
          subcategories: [
            { name: "Sub 3B1", subcategories: [] },
            { name: "Sub 3B2", subcategories: [] }
          ]
        }
      ]
    };

    let currentCategory = 'category1';

    function renderTable() {
      const categoryTableBody = document.getElementById('categoryTableBody');
      const categoryData = categoriesData[currentCategory];
      
      categoryTableBody.innerHTML = '';

      function renderSubcategories(subcategories, level = 0) {
        return subcategories.map((subcategory, index) => {
          return `
            <div class="relative group pl-${level * 4} py-2">
              <div class="flex justify-between items-center bg-teal-50 p-3 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <p class="font-semibold text-sm text-teal-700">${subcategory.name}</p>
                <div class="space-x-2">
                  <button class="px-3 py-1 bg-teal-500 text-white rounded-md text-sm hover:bg-teal-600 transition-colors duration-200">More Info</button>
                  <button class="px-3 py-1 bg-blue-500 text-white rounded-md text-sm hover:bg-blue-600 transition-colors duration-200">Get Product</button>
                  <button class="px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600 transition-colors duration-200">Add to Cart</button>
                </div>
              </div>
              ${subcategory.subcategories.length > 0 ? `
                <div class="pl-4 mt-2">
                  ${renderSubcategories(subcategory.subcategories, level + 1)}
                </div>
              ` : ''}
            </div>
          `;
        }).join('');
      }

      categoryData.forEach(category => {
        categoryTableBody.innerHTML += `
          <tr class="border-b">
            <td class="py-4 px-6 font-semibold text-md bg-teal-100 text-teal-700">${category.name}</td>
            <td class="py-4 px-6">${renderSubcategories(category.subcategories)}</td>
          </tr>
        `;
      });
    }

    renderTable();

    document.getElementById('category').addEventListener('change', (e) => {
      currentCategory = e.target.value;
      renderTable();
    });
  </script>
</body>
</html>
